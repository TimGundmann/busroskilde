<div class="container text-center bottom-margin">
    <div class="row">
        <div class="col-md-1 mr-auto ml-auto">
            <nav [className]="odd ? 'navbar bg-danger heading' : 'navbar bg-info heading'">
                <span class="navbar-brand">{{category.name}}</span>
                <div *ngIf="isAdmin()">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a style="cursor: pointer;" class="nav-link" (click)="toggleAdd()" title="TilfÃ¸j turnus">
                                <i class="nc-icon nc-simple-add" aria-hidden="true"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="col-md-11 mr-auto ml-auto">
            <app-add [visisble]="addVisible" (changeVisibility)="addChangeVisisblity()" [category]="category"></app-add>
            <div *ngFor="let plan of plans; let index = index">
                <div class="card no-transition" style="margin-bottom: 2px" *ngIf="plan.subCategory && isFirst(index)">
                    <div class="card-header">
                        <h6 style="margin-bottom: 0">
                            {{plan.subCategory.name}}
                        </h6>
                    </div>
                </div>
                <div class="card no-transition">
                    <div class="card-body">
                        <div class="plan-heading">
                            <span class="text-headline">{{plan.headline}}</span>
                            <div *ngIf="!isAdmin()">
                                <span class="text-info">Gyldighedsperiode: </span>
                                <span>{{plan.from | date}}</span> - <span>{{plan.to | date}}</span>
                            </div>
                            <div *ngIf="isAdmin()">
                                <div>
                                    <label class="text-info">Gyldig fra:</label>
                                    <input type="date" [value]="plan.from"
                                        (input)="updateFrom(plan, $event.target.value)">
                                </div>
                                <div>
                                    <label class="text-info">Gyldig til:</label>
                                    <input type="date" [value]="plan.to" (input)="updateTo(plan, $event.target.value)">
                                </div>
                            </div>
                            <div>
                                <a *ngIf="isAdmin()" style="cursor: pointer;" (click)="delete(plan)"
                                    title="Slet turnus planen">
                                    <i class="nc-icon nc-simple-delete" aria-hidden="true"></i>
                                </a>
                                <a style="cursor: pointer;" (click)="dowload(plan)" title="Hent filen">
                                    <i class="nc-icon nc-cloud-download-93" aria-hidden="true"></i>
                                </a>
                                <a style="cursor: pointer;" (click)="togglePdf(plan)" title="Vis filen">
                                    <i *ngIf="!showPdf(plan)" class="nc-icon nc-glasses-2" aria-hidden="true"></i>
                                    <i *ngIf="showPdf(plan)" class="nc-icon nc-simple-remove" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                        <pdf-viewer *ngIf="showPdf(plan)" [src]="plan.file" [render-text]="true"
                            style="display: block;"></pdf-viewer>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>